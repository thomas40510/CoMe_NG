<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: KMLMaker
  
    &mdash; Documentation by YARD 0.9.28
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "KMLMaker";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (K)</a> &raquo;
    
    
    <span class="title">KMLMaker</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: KMLMaker
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="Visitor.html" title="Visitor (class)">Visitor</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="Visitor.html" title="Visitor (class)">Visitor</a></span></li>
          
            <li class="next">KMLMaker</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="KMLUtils.html" title="KMLUtils (module)">KMLUtils</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/kml_maker.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Convert SITAC objects into KML code</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Version:</p>
<ul class="version">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.1.0</p>
</div>
      
    </li>
  
</ul>

</div>


  <h2>Constant Summary</h2>
  
  <h3 class="inherited">Constants included
     from <span class='object_link'><a href="LogUtils.html" title="LogUtils (module)">LogUtils</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="LogUtils.html#Log-constant" title="LogUtils::Log (constant)">LogUtils::Log</a></span></p>


  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#content-instance_method" title="#content (instance method)">#<strong>content</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute content.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#name-instance_method" title="#name (instance method)">#<strong>name</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute name.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#build-instance_method" title="#build (instance method)">#<strong>build</strong>(figures, name = &quot;SITAC_#{Time.now.strftime(&#39;%Y%m%d%H%M%S&#39;)}&quot;)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>build the kml file.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#export-instance_method" title="#export (instance method)">#<strong>export</strong>(dirname)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>export the kml file.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#footer-instance_method" title="#footer (instance method)">#<strong>footer</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Generate the footer of the kml file.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#header-instance_method" title="#header (instance method)">#<strong>header</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Generate the header of the kml file.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>  &#x21d2; KMLMaker </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of KMLMaker.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#visit_bullseye-instance_method" title="#visit_bullseye (instance method)">#<strong>visit_bullseye</strong>(bullseye)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add a Bullseye to the kml file.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#visit_corridor-instance_method" title="#visit_corridor (instance method)">#<strong>visit_corridor</strong>(corridor)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add a corridor to the kml file.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#visit_ellipse-instance_method" title="#visit_ellipse (instance method)">#<strong>visit_ellipse</strong>(ellipse)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add an ellipse to the kml file.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#visit_line-instance_method" title="#visit_line (instance method)">#<strong>visit_line</strong>(line)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add a line to the kml file.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#visit_point-instance_method" title="#visit_point (instance method)">#<strong>visit_point</strong>(point)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add a point to the kml file.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#visit_polygon-instance_method" title="#visit_polygon (instance method)">#<strong>visit_polygon</strong>(polygon)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add a polygon to the kml file.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#visit_rectangle-instance_method" title="#visit_rectangle (instance method)">#<strong>visit_rectangle</strong>(rectangle)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add a rectangle to the kml file.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="KMLUtils.html" title="KMLUtils (module)">KMLUtils</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="KMLUtils.html#create_circle-instance_method" title="KMLUtils#create_circle (method)">#create_circle</a></span>, <span class='object_link'><a href="KMLUtils.html#create_ellipse-instance_method" title="KMLUtils#create_ellipse (method)">#create_ellipse</a></span>, <span class='object_link'><a href="KMLUtils.html#create_line-instance_method" title="KMLUtils#create_line (method)">#create_line</a></span>, <span class='object_link'><a href="KMLUtils.html#meters_to_degrees-instance_method" title="KMLUtils#meters_to_degrees (method)">#meters_to_degrees</a></span></p>

  
  
  
  
  
  
  
  
  
  
  
  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>  &#x21d2; <tt><span class='object_link'><a href="" title="KMLMaker (class)">KMLMaker</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of KMLMaker.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


144
145
146
147</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/kml_maker.rb', line 144</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>
  <span class='kw'>super</span>
  <span class='ivar'>@figures</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="content-instance_method">
  
    #<strong>content</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute content.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


142
143
144</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/kml_maker.rb', line 142</span>

<span class='kw'>def</span> <span class='id identifier rubyid_content'>content</span>
  <span class='ivar'>@content</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="name-instance_method">
  
    #<strong>name</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute name.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


142
143
144</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/kml_maker.rb', line 142</span>

<span class='kw'>def</span> <span class='id identifier rubyid_name'>name</span>
  <span class='ivar'>@name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="build-instance_method">
  
    #<strong>build</strong>(figures, name = &quot;SITAC_#{Time.now.strftime(&#39;%Y%m%d%H%M%S&#39;)}&quot;)  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>build the kml file</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>figures</span>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="Figure.html" title="Figure (class)">Figure</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the list of figures to convert</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&quot;SITAC_#{Time.now.strftime(&#39;%Y%m%d%H%M%S&#39;)}&quot;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the name of the kml file</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the kml code</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


153
154
155
156
157
158
159
160
161
162
163
164
165</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/kml_maker.rb', line 153</span>

<span class='kw'>def</span> <span class='id identifier rubyid_build'>build</span><span class='lparen'>(</span><span class='id identifier rubyid_figures'>figures</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SITAC_</span><span class='embexpr_beg'>#{</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span><span class='period'>.</span><span class='id identifier rubyid_strftime'>strftime</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%Y%m%d%H%M%S</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='ivar'>@figures</span> <span class='op'>=</span> <span class='id identifier rubyid_figures'>figures</span>
  <span class='ivar'>@name</span> <span class='op'>=</span> <span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_header'>header</span>
  <span class='ivar'>@figures</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_figure'>figure</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_figure'>figure</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

    <span class='id identifier rubyid_figure'>figure</span><span class='period'>.</span><span class='id identifier rubyid_accept'>accept</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_footer'>footer</span>
  <span class='const'><span class='object_link'><a href="LogUtils.html#Log-constant" title="LogUtils::Log (constant)">Log</a></span></span><span class='period'>.</span><span class='id identifier rubyid_succ'>succ</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Successfully built KML code for SITAC </span><span class='embexpr_beg'>#{</span><span class='ivar'>@name</span><span class='embexpr_end'>}</span><span class='tstring_content'>! It is </span><span class='embexpr_beg'>#{</span><span class='ivar'>@content</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'> lines long.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>CoMe_KMLMaker</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="export-instance_method">
  
    #<strong>export</strong>(dirname)  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>export the kml file</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>dirname</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the name of the kml file</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the name of the kml file</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/kml_maker.rb', line 170</span>

<span class='kw'>def</span> <span class='id identifier rubyid_export'>export</span><span class='lparen'>(</span><span class='id identifier rubyid_dirname'>dirname</span><span class='rparen'>)</span>
  <span class='comment'># create file
</span>  <span class='id identifier rubyid_time'>time</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span><span class='period'>.</span><span class='id identifier rubyid_strftime'>strftime</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%Y%m%d%H%M%S</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_file'>file</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_dirname'>dirname</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='ivar'>@name</span><span class='embexpr_end'>}</span><span class='tstring_content'>_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_time'>time</span><span class='embexpr_end'>}</span><span class='tstring_content'>.kml</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_kml_file'>kml_file</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>w</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_kml_file'>kml_file</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span><span class='lparen'>(</span><span class='ivar'>@content</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_kml_file'>kml_file</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span>
  <span class='const'><span class='object_link'><a href="LogUtils.html#Log-constant" title="LogUtils::Log (constant)">Log</a></span></span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Successfully exported KML file </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_file'>file</span><span class='embexpr_end'>}</span><span class='tstring_content'>!</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>CoMe_KMLMaker</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>

  <span class='id identifier rubyid_file'>file</span>
<span class='kw'>rescue</span> <span class='const'>StandardError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='comment'># The directory does not exist, we create it
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>No such file or directory</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='comment'># create dir
</span>    <span class='id identifier rubyid_dir'>dir</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_dirname'>dirname</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span>
    <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_mkdir'>mkdir</span><span class='lparen'>(</span><span class='id identifier rubyid_dir'>dir</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span><span class='lparen'>(</span><span class='id identifier rubyid_dir'>dir</span><span class='rparen'>)</span>
    <span class='kw'>retry</span>
  <span class='kw'>end</span>
  <span class='const'><span class='object_link'><a href="LogUtils.html#Log-constant" title="LogUtils::Log (constant)">Log</a></span></span><span class='period'>.</span><span class='id identifier rubyid_err'>err</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Cannot create KML file </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_filename'>filename</span><span class='embexpr_end'>}</span><span class='tstring_content'>! Got error </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>CoMe_KMLMaker</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="footer-instance_method">
  
    #<strong>footer</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Generate the footer of the kml file</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


203
204
205
206
207</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/kml_maker.rb', line 203</span>

<span class='kw'>def</span> <span class='id identifier rubyid_footer'>footer</span>
  <span class='id identifier rubyid_ftr'>ftr</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;/Document&gt;
        &lt;/kml&gt;</span><span class='tstring_end'>&quot;</span></span>
  <span class='ivar'>@content</span> <span class='op'>+=</span> <span class='id identifier rubyid_ftr'>ftr</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="header-instance_method">
  
    #<strong>header</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Generate the header of the kml file</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


192
193
194
195
196
197
198
199
200</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/kml_maker.rb', line 192</span>

<span class='kw'>def</span> <span class='id identifier rubyid_header'>header</span>
  <span class='id identifier rubyid_hdr_kml'>hdr_kml</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
              &lt;kml xmlns=&quot;http://www.opengis.net/kml/2.2&quot; xmlns:gx=&quot;http://www.google.com/kml/ext/2.2&quot; xmlns:kml=&quot;http://www.opengis.net/kml/2.2&quot; xmlns:atom=&quot;http://www.w3.org/2005/Atom&quot;&gt;
              &lt;Document&gt;</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_hdr_kml'>hdr_kml</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;name&gt;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&lt;/name&gt;</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_hdr_file'>hdr_file</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>lib/raw/styles_sitac.xml</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>r</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_hdr_kml'>hdr_kml</span> <span class='op'>+=</span> <span class='id identifier rubyid_hdr_file'>hdr_file</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
  <span class='ivar'>@content</span> <span class='op'>+=</span> <span class='id identifier rubyid_hdr_kml'>hdr_kml</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="visit_bullseye-instance_method">
  
    #<strong>visit_bullseye</strong>(bullseye)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add a Bullseye to the kml file</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>bullseye</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Bullseye.html" title="Bullseye (class)">Bullseye</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the bullseye to add</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/kml_maker.rb', line 274</span>

<span class='kw'>def</span> <span class='id identifier rubyid_visit_bullseye'>visit_bullseye</span><span class='lparen'>(</span><span class='id identifier rubyid_bullseye'>bullseye</span><span class='rparen'>)</span>
  <span class='kw'>nil</span> <span class='kw'>unless</span> <span class='id identifier rubyid_bullseye'>bullseye</span><span class='period'>.</span><span class='id identifier rubyid_rings'>rings</span><span class='period'>.</span><span class='id identifier rubyid_positive?'>positive?</span>

  <span class='id identifier rubyid_points_thick'>points_thick</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_points_thin'>points_thin</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_nb_rings'>nb_rings</span> <span class='op'>=</span> <span class='id identifier rubyid_bullseye'>bullseye</span><span class='period'>.</span><span class='id identifier rubyid_rings'>rings</span>
  <span class='id identifier rubyid_distance'>distance</span> <span class='op'>=</span> <span class='id identifier rubyid_meters_to_degrees'>meters_to_degrees</span><span class='lparen'>(</span><span class='id identifier rubyid_bullseye'>bullseye</span><span class='period'>.</span><span class='id identifier rubyid_ring_distance'>ring_distance</span><span class='rparen'>)</span> <span class='op'>/</span> <span class='int'>2</span>
  <span class='id identifier rubyid_radius'>radius</span> <span class='op'>=</span> <span class='id identifier rubyid_meters_to_degrees'>meters_to_degrees</span><span class='lparen'>(</span><span class='id identifier rubyid_bullseye'>bullseye</span><span class='period'>.</span><span class='id identifier rubyid_vradius'>vradius</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_smallest_radius'>smallest_radius</span> <span class='op'>=</span> <span class='id identifier rubyid_radius'>radius</span> <span class='op'>-</span> <span class='lparen'>(</span><span class='id identifier rubyid_nb_rings'>nb_rings</span> <span class='op'>*</span> <span class='id identifier rubyid_distance'>distance</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_center_coords'>center_coords</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_bullseye'>bullseye</span><span class='period'>.</span><span class='id identifier rubyid_center'>center</span><span class='period'>.</span><span class='id identifier rubyid_latitude'>latitude</span><span class='comma'>,</span> <span class='id identifier rubyid_bullseye'>bullseye</span><span class='period'>.</span><span class='id identifier rubyid_center'>center</span><span class='period'>.</span><span class='id identifier rubyid_longitude'>longitude</span><span class='rbracket'>]</span>
  <span class='comment'># thick lines (main rings, every 2 rings)
</span>  <span class='lparen'>(</span><span class='int'>0</span><span class='op'>..</span><span class='id identifier rubyid_nb_rings'>nb_rings</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_step'>step</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
    <span class='id identifier rubyid_rad'>rad</span> <span class='op'>=</span> <span class='id identifier rubyid_smallest_radius'>smallest_radius</span> <span class='op'>+</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>*</span> <span class='id identifier rubyid_distance'>distance</span>
    <span class='id identifier rubyid_points_thick'>points_thick</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_create_circle'>create_circle</span><span class='lparen'>(</span><span class='id identifier rubyid_center_coords'>center_coords</span><span class='comma'>,</span> <span class='id identifier rubyid_rad'>rad</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='comment'># thin lines (every other ring)
</span>  <span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='id identifier rubyid_nb_rings'>nb_rings</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_step'>step</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
    <span class='id identifier rubyid_rad'>rad</span> <span class='op'>=</span> <span class='id identifier rubyid_smallest_radius'>smallest_radius</span> <span class='op'>+</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>*</span> <span class='id identifier rubyid_distance'>distance</span>
    <span class='id identifier rubyid_points_thin'>points_thin</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_create_circle'>create_circle</span><span class='lparen'>(</span><span class='id identifier rubyid_center_coords'>center_coords</span><span class='comma'>,</span> <span class='id identifier rubyid_rad'>rad</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Build main circles
</span>  <span class='id identifier rubyid_kml_bullseye_main'>kml_bullseye_main</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;Placemark&gt;
                  &lt;name&gt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bullseye'>bullseye</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&lt;/name&gt;
                  &lt;styleUrl&gt;#style_bulls&lt;/styleUrl&gt;
                  &lt;MultiGeometry&gt;</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_points_thick'>points_thick</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_point'>point</span><span class='op'>|</span>
    <span class='id identifier rubyid_kml_bullseye_main'>kml_bullseye_main</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;Polygon&gt;&lt;outerBoundaryIs&gt;&lt;LinearRing&gt;&lt;coordinates&gt;</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_point'>point</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pt'>pt</span><span class='op'>|</span>
      <span class='id identifier rubyid_kml_bullseye_main'>kml_bullseye_main</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pt'>pt</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>,</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pt'>pt</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>,0\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_kml_bullseye_main'>kml_bullseye_main</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;/coordinates&gt;&lt;/LinearRing&gt;&lt;/outerBoundaryIs&gt;&lt;/Polygon&gt;</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_kml_bullseye_main'>kml_bullseye_main</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;/MultiGeometry&gt;&lt;/Placemark&gt;</span><span class='tstring_end'>&#39;</span></span>

  <span class='comment'># Build secondary circles
</span>  <span class='id identifier rubyid_kml_bulls_secondary'>kml_bulls_secondary</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;Placemark&gt;
                  &lt;name&gt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bullseye'>bullseye</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>_second&lt;/name&gt;
                  &lt;styleUrl&gt;#style_bulls_thin&lt;/styleUrl&gt;
                  &lt;MultiGeometry&gt;</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_points_thin'>points_thin</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_point'>point</span><span class='op'>|</span>
    <span class='id identifier rubyid_kml_bulls_secondary'>kml_bulls_secondary</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;Polygon&gt;&lt;outerBoundaryIs&gt;&lt;LinearRing&gt;&lt;coordinates&gt;</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_point'>point</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pt'>pt</span><span class='op'>|</span>
      <span class='id identifier rubyid_kml_bulls_secondary'>kml_bulls_secondary</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pt'>pt</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>,</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pt'>pt</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>,0\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_kml_bulls_secondary'>kml_bulls_secondary</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;/coordinates&gt;&lt;/LinearRing&gt;&lt;/outerBoundaryIs&gt;&lt;/Polygon&gt;</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_kml_bulls_secondary'>kml_bulls_secondary</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;/MultiGeometry&gt;&lt;/Placemark&gt;</span><span class='tstring_end'>&#39;</span></span>

  <span class='comment'># Build lines
</span>  <span class='id identifier rubyid_kml_bulls_cross'>kml_bulls_cross</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;Placemark&gt;
                  &lt;name&gt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bullseye'>bullseye</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>_lines&lt;/name&gt;
                  &lt;styleUrl&gt;#style_line&lt;/styleUrl&gt;
                  &lt;MultiGeometry&gt;</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> <span class='int'>45</span>
  <span class='lparen'>(</span><span class='int'>0</span><span class='op'>..</span><span class='int'>360</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_step'>step</span><span class='lparen'>(</span><span class='id identifier rubyid_n'>n</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
    <span class='id identifier rubyid_kml_bulls_cross'>kml_bulls_cross</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;LineString&gt;
                    &lt;coordinates&gt;</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_pt_cross'>pt_cross</span> <span class='op'>=</span> <span class='id identifier rubyid_create_line'>create_line</span><span class='lparen'>(</span><span class='id identifier rubyid_center_coords'>center_coords</span><span class='comma'>,</span> <span class='id identifier rubyid_radius'>radius</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pt_cross'>pt_cross</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pt'>pt</span><span class='op'>|</span>
      <span class='id identifier rubyid_kml_bulls_cross'>kml_bulls_cross</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pt'>pt</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>,</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pt'>pt</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>,0\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_kml_bulls_cross'>kml_bulls_cross</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;/coordinates&gt;&lt;/LineString&gt;</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_kml_bulls_cross'>kml_bulls_cross</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;/MultiGeometry&gt;&lt;/Placemark&gt;</span><span class='tstring_end'>&#39;</span></span>
  <span class='ivar'>@content</span> <span class='op'>+=</span> <span class='id identifier rubyid_kml_bullseye_main'>kml_bullseye_main</span> <span class='op'>+</span> <span class='id identifier rubyid_kml_bulls_secondary'>kml_bulls_secondary</span> <span class='op'>+</span> <span class='id identifier rubyid_kml_bulls_cross'>kml_bulls_cross</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="visit_corridor-instance_method">
  
    #<strong>visit_corridor</strong>(corridor)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add a corridor to the kml file</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>corridor</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Corridor.html" title="Corridor (class)">Corridor</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the corridor to add</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


372
373
374</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/kml_maker.rb', line 372</span>

<span class='kw'>def</span> <span class='id identifier rubyid_visit_corridor'>visit_corridor</span><span class='lparen'>(</span><span class='id identifier rubyid_corridor'>corridor</span><span class='rparen'>)</span>
  <span class='kw'>nil</span> <span class='comment'># TODO
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="visit_ellipse-instance_method">
  
    #<strong>visit_ellipse</strong>(ellipse)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add an ellipse to the kml file</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>ellipse</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Ellipse.html" title="Ellipse (class)">Ellipse</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the ellipse to add</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/kml_maker.rb', line 346</span>

<span class='kw'>def</span> <span class='id identifier rubyid_visit_ellipse'>visit_ellipse</span><span class='lparen'>(</span><span class='id identifier rubyid_ellipse'>ellipse</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_h_radius'>h_radius</span> <span class='op'>=</span> <span class='id identifier rubyid_meters_to_degrees'>meters_to_degrees</span><span class='lparen'>(</span><span class='id identifier rubyid_ellipse'>ellipse</span><span class='period'>.</span><span class='id identifier rubyid_hradius'>hradius</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_v_radius'>v_radius</span> <span class='op'>=</span> <span class='id identifier rubyid_meters_to_degrees'>meters_to_degrees</span><span class='lparen'>(</span><span class='id identifier rubyid_ellipse'>ellipse</span><span class='period'>.</span><span class='id identifier rubyid_vradius'>vradius</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_center'>center</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_ellipse'>ellipse</span><span class='period'>.</span><span class='id identifier rubyid_center'>center</span><span class='period'>.</span><span class='id identifier rubyid_latitude'>latitude</span><span class='comma'>,</span> <span class='id identifier rubyid_ellipse'>ellipse</span><span class='period'>.</span><span class='id identifier rubyid_center'>center</span><span class='period'>.</span><span class='id identifier rubyid_longitude'>longitude</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_points'>points</span> <span class='op'>=</span> <span class='id identifier rubyid_create_ellipse'>create_ellipse</span><span class='lparen'>(</span><span class='id identifier rubyid_center'>center</span><span class='comma'>,</span> <span class='id identifier rubyid_h_radius'>h_radius</span><span class='comma'>,</span> <span class='id identifier rubyid_v_radius'>v_radius</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_kml_ellipse'>kml_ellipse</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;Placemark&gt;
                  &lt;name&gt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ellipse'>ellipse</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&lt;/name&gt;
                  &lt;styleUrl&gt;#style_circle&lt;/styleUrl&gt;
                  &lt;Polygon&gt;
                    &lt;outerBoundaryIs&gt;
                      &lt;LinearRing&gt;
                        &lt;coordinates&gt;</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_points'>points</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_point'>point</span><span class='op'>|</span>
    <span class='id identifier rubyid_kml_ellipse'>kml_ellipse</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>,</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>,0\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_kml_ellipse'>kml_ellipse</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;/coordinates&gt;
                  &lt;/LinearRing&gt;
                &lt;/outerBoundaryIs&gt;
              &lt;/Polygon&gt;
            &lt;/Placemark&gt;</span><span class='tstring_end'>&quot;</span></span>
  <span class='ivar'>@content</span> <span class='op'>+=</span> <span class='id identifier rubyid_kml_ellipse'>kml_ellipse</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="visit_line-instance_method">
  
    #<strong>visit_line</strong>(line)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add a line to the kml file</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>line</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Line.html" title="Line (class)">Line</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the line to add</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


224
225
226
227
228
229
230
231
232
233
234
235
236
237</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/kml_maker.rb', line 224</span>

<span class='kw'>def</span> <span class='id identifier rubyid_visit_line'>visit_line</span><span class='lparen'>(</span><span class='id identifier rubyid_line'>line</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_kml_line'>kml_line</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;Placemark&gt;
                &lt;name&gt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_line'>line</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&lt;/name&gt;
                &lt;styleUrl&gt;#style_line&lt;/styleUrl&gt;
                &lt;LineString&gt;
                  &lt;coordinates&gt;</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_line'>line</span><span class='period'>.</span><span class='id identifier rubyid_points'>points</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_point'>point</span><span class='op'>|</span>
    <span class='id identifier rubyid_kml_line'>kml_line</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_point'>point</span><span class='period'>.</span><span class='id identifier rubyid_longitude'>longitude</span><span class='embexpr_end'>}</span><span class='tstring_content'>,</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_point'>point</span><span class='period'>.</span><span class='id identifier rubyid_latitude'>latitude</span><span class='embexpr_end'>}</span><span class='tstring_content'>,0 </span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_kml_line'>kml_line</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;/coordinates&gt;
                &lt;/LineString&gt;
              &lt;/Placemark&gt;</span><span class='tstring_end'>&quot;</span></span>
  <span class='ivar'>@content</span> <span class='op'>+=</span> <span class='id identifier rubyid_kml_line'>kml_line</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="visit_point-instance_method">
  
    #<strong>visit_point</strong>(point)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add a point to the kml file</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>point</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Point.html" title="Point (class)">Point</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the point to add</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


211
212
213
214
215
216
217
218
219
220</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/kml_maker.rb', line 211</span>

<span class='kw'>def</span> <span class='id identifier rubyid_visit_point'>visit_point</span><span class='lparen'>(</span><span class='id identifier rubyid_point'>point</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_kml_point'>kml_point</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;Placemark&gt;
                  &lt;name&gt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_point'>point</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&lt;/name&gt;
                  &lt;styleUrl&gt;#style_placemark&lt;/styleUrl&gt;
                  &lt;Point&gt;
                    &lt;coordinates&gt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_point'>point</span><span class='period'>.</span><span class='id identifier rubyid_longitude'>longitude</span><span class='embexpr_end'>}</span><span class='tstring_content'>,</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_point'>point</span><span class='period'>.</span><span class='id identifier rubyid_latitude'>latitude</span><span class='embexpr_end'>}</span><span class='tstring_content'>,0&lt;/coordinates&gt;
                  &lt;/Point&gt;
                &lt;/Placemark&gt;</span><span class='tstring_end'>&quot;</span></span>
  <span class='ivar'>@content</span> <span class='op'>+=</span> <span class='id identifier rubyid_kml_point'>kml_point</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="visit_polygon-instance_method">
  
    #<strong>visit_polygon</strong>(polygon)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add a polygon to the kml file</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>polygon</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Polygon.html" title="Polygon (class)">Polygon</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the polygon to add</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


241
242
243
244
245
246
247
248
249
250
251
252
253
254
255</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/kml_maker.rb', line 241</span>

<span class='kw'>def</span> <span class='id identifier rubyid_visit_polygon'>visit_polygon</span><span class='lparen'>(</span><span class='id identifier rubyid_polygon'>polygon</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_polygon'>polygon</span><span class='period'>.</span><span class='id identifier rubyid_points'>points</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_polygon'>polygon</span><span class='period'>.</span><span class='id identifier rubyid_points'>points</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_polygon'>polygon</span><span class='period'>.</span><span class='id identifier rubyid_points'>points</span><span class='lbracket'>[</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='op'>!=</span> <span class='id identifier rubyid_polygon'>polygon</span><span class='period'>.</span><span class='id identifier rubyid_points'>points</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_kml_poly'>kml_poly</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;Placemark&gt;
              &lt;name&gt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_polygon'>polygon</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&lt;/name&gt;
              &lt;styleUrl&gt;#style_shape&lt;/styleUrl&gt;
              &lt;Polygon&gt;
                &lt;outerBoundaryIs&gt;
                  &lt;LinearRing&gt;
                    &lt;coordinates&gt;</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_polygon'>polygon</span><span class='period'>.</span><span class='id identifier rubyid_points'>points</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_point'>point</span><span class='op'>|</span>
    <span class='id identifier rubyid_kml_poly'>kml_poly</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_point'>point</span><span class='period'>.</span><span class='id identifier rubyid_longitude'>longitude</span><span class='embexpr_end'>}</span><span class='tstring_content'>,</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_point'>point</span><span class='period'>.</span><span class='id identifier rubyid_latitude'>latitude</span><span class='embexpr_end'>}</span><span class='tstring_content'>,0\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_kml_poly'>kml_poly</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;/coordinates&gt;&lt;/LinearRing&gt;&lt;/outerBoundaryIs&gt;&lt;/Polygon&gt;&lt;/Placemark&gt;</span><span class='tstring_end'>&#39;</span></span>
  <span class='ivar'>@content</span> <span class='op'>+=</span> <span class='id identifier rubyid_kml_poly'>kml_poly</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="visit_rectangle-instance_method">
  
    #<strong>visit_rectangle</strong>(rectangle)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add a rectangle to the kml file</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>rectangle</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Rectangle.html" title="Rectangle (class)">Rectangle</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the rectangle to add</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


259
260
261
262
263
264
265
266
267
268
269
270</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/kml_maker.rb', line 259</span>

<span class='kw'>def</span> <span class='id identifier rubyid_visit_rectangle'>visit_rectangle</span><span class='lparen'>(</span><span class='id identifier rubyid_rectangle'>rectangle</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_start_point'>start_point</span> <span class='op'>=</span> <span class='id identifier rubyid_rectangle'>rectangle</span><span class='period'>.</span><span class='id identifier rubyid_start'>start</span>
  <span class='id identifier rubyid_rect_points'>rect_points</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_rect_points'>rect_points</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_start_point'>start_point</span>
  <span class='id identifier rubyid_rect_points'>rect_points</span> <span class='op'>&lt;&lt;</span> <span class='const'><span class='object_link'><a href="Point.html" title="Point (class)">Point</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Point.html#initialize-instance_method" title="Point#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_start_point'>start_point</span><span class='period'>.</span><span class='id identifier rubyid_latitude'>latitude</span> <span class='op'>+</span> <span class='id identifier rubyid_meters_to_degrees'>meters_to_degrees</span><span class='lparen'>(</span><span class='id identifier rubyid_rectangle'>rectangle</span><span class='period'>.</span><span class='id identifier rubyid_vertical'>vertical</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_start_point'>start_point</span><span class='period'>.</span><span class='id identifier rubyid_longitude'>longitude</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rect_points'>rect_points</span> <span class='op'>&lt;&lt;</span> <span class='const'><span class='object_link'><a href="Point.html" title="Point (class)">Point</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Point.html#initialize-instance_method" title="Point#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_start_point'>start_point</span><span class='period'>.</span><span class='id identifier rubyid_latitude'>latitude</span> <span class='op'>+</span> <span class='id identifier rubyid_meters_to_degrees'>meters_to_degrees</span><span class='lparen'>(</span><span class='id identifier rubyid_rectangle'>rectangle</span><span class='period'>.</span><span class='id identifier rubyid_vertical'>vertical</span><span class='rparen'>)</span><span class='comma'>,</span>
                           <span class='id identifier rubyid_start_point'>start_point</span><span class='period'>.</span><span class='id identifier rubyid_longitude'>longitude</span> <span class='op'>+</span> <span class='id identifier rubyid_meters_to_degrees'>meters_to_degrees</span><span class='lparen'>(</span><span class='id identifier rubyid_rectangle'>rectangle</span><span class='period'>.</span><span class='id identifier rubyid_horizontal'>horizontal</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rect_points'>rect_points</span> <span class='op'>&lt;&lt;</span> <span class='const'><span class='object_link'><a href="Point.html" title="Point (class)">Point</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Point.html#initialize-instance_method" title="Point#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_start_point'>start_point</span><span class='period'>.</span><span class='id identifier rubyid_latitude'>latitude</span><span class='comma'>,</span> <span class='id identifier rubyid_start_point'>start_point</span><span class='period'>.</span><span class='id identifier rubyid_longitude'>longitude</span> <span class='op'>+</span> <span class='id identifier rubyid_meters_to_degrees'>meters_to_degrees</span><span class='lparen'>(</span><span class='id identifier rubyid_rectangle'>rectangle</span><span class='period'>.</span><span class='id identifier rubyid_horizontal'>horizontal</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rect_points'>rect_points</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_start_point'>start_point</span>

  <span class='id identifier rubyid_visit_polygon'>visit_polygon</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Polygon.html" title="Polygon (class)">Polygon</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Line.html#initialize-instance_method" title="Line#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_rectangle'>rectangle</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_rect_points'>rect_points</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Wed May 17 13:58:44 2023 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.28 (ruby-3.2.0).
</div>

    </div>
  </body>
</html>